{"version":3,"sources":["webpack:///./node_modules/beautiful-dom/dist/beautifuldom.js","webpack:///./node_modules/beautiful-dom/dist/index.js","webpack:///./node_modules/beautiful-dom/dist/htmlelement.js"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","htmlelement_1","BeautifulDom","data_source","_this","patterns","regExp","action","match","tokens","push","holder","parsedData","length","forEach","htmlElement","concat","parseAllTags","returnValue_1","scrapData_1","filter","element","indexOf","outerHTML","returnValue","done","htmlElements","allElements","returnValue_2","secondSiblingRegExp","createTagRegExp","scrapData","u","breakingCondition","x","slice","openingRegExp","matchingTags","matchingElements","getElementsByTagName","_i","matchingElements_1","matchingElement","i","holder_1","returnValue_3","scrapData_2","attributeRegExp","RegExp","matchingElements_2","scrapData_3","elements","getElementsByClassName","matchingElements_3","scrapData_4","getElementById","getByAttribute","TypeError","Boolean","trim","Error","data","toString","split","join","prototype","reInit","getAllTags","tagsRegex","startingIndex","availableTags","counter","tagObject","tag","index","tagType","tagRegExp","closingRegExp","data_copy","matchRegex","matches","exec","closingTagsCounter","openingTagsCounter","test","node_object","default","tags","_loop_1","relatives","tagData","temp","this_1","tags_1","attribute","attributeValue","openingTag","classValue","id","getElementsByName","name","querySelectorAll","query","_a","pattern","querySelector","beautifuldom_1","module","HTMLElementData","innerHTML","innerText","textContent","lastIndexOf","replace","getStatus","getAttribute"],"mappings":"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","file":"js/chunk-07d317ff.1379c355.js","sourcesContent":["\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar htmlelement_1 = __importDefault(require(\"./htmlelement\"));\r\nvar BeautifulDom = /** @class */ (function () {\r\n    function BeautifulDom(data_source) {\r\n        var _this = this;\r\n        this.patterns = [\r\n            {\r\n                regExp: /\\*/,\r\n                action: function (match, tokens) {\r\n                    tokens.push(match[0]);\r\n                    var holder = [];\r\n                    if (_this.parsedData.length) {\r\n                        _this.parsedData.forEach(function (htmlElement) {\r\n                            holder = holder.concat(htmlElement.parseAllTags());\r\n                        });\r\n                        var returnValue_1 = [];\r\n                        var scrapData_1 = [];\r\n                        returnValue_1 = holder.filter(function (element) {\r\n                            if (scrapData_1.indexOf(element.outerHTML) == -1) {\r\n                                scrapData_1.push(element.outerHTML);\r\n                                return true;\r\n                            }\r\n                        });\r\n                        _this.parsedData = returnValue_1;\r\n                        return _this.parsedData;\r\n                    }\r\n                    var returnValue = _this.parseAllTags();\r\n                    _this.done = false;\r\n                    return returnValue;\r\n                }\r\n            },\r\n            {\r\n                regExp: /(\\w+)(\\.|#)(\\w+)/,\r\n                action: function (match, tokens) {\r\n                    if (tokens[tokens.length - 1] == '+') {\r\n                        var htmlElements = _this.parsedData;\r\n                        var allElements = _this.parseAllTags();\r\n                        _this.parsedData = htmlElements;\r\n                        var returnValue_2 = [];\r\n                        var secondSiblingRegExp = _this.createTagRegExp(match[1]);\r\n                        var secondSiblingMatch = void 0;\r\n                        var scrapData = [];\r\n                        for (var u = 0; u < allElements.length; u++) {\r\n                            for (var element = 0; element < htmlElements.length; element++) {\r\n                                var breakingCondition = false;\r\n                                if (allElements[u].outerHTML == htmlElements[element].outerHTML) {\r\n                                    for (var x = u + 1; x < allElements.length; x++) {\r\n                                        if (htmlElements[element].outerHTML.indexOf(allElements[x].outerHTML) > -1) {\r\n                                            continue;\r\n                                        }\r\n                                        else if (!(secondSiblingMatch = allElements[x].outerHTML.\r\n                                            slice(allElements[x].outerHTML.\r\n                                            indexOf('<'), allElements[x].outerHTML.\r\n                                            indexOf('>') + 1).match(secondSiblingRegExp.openingRegExp))) {\r\n                                            break;\r\n                                        }\r\n                                        else if (secondSiblingMatch = allElements[x].outerHTML.\r\n                                            slice(allElements[x].outerHTML.\r\n                                            indexOf('<'), allElements[x].outerHTML.\r\n                                            indexOf('>') + 1).match(secondSiblingRegExp.openingRegExp)) {\r\n                                            if (scrapData.indexOf(allElements[x]['outerHTML']) == -1) {\r\n                                                scrapData.push(allElements[x].outerHTML);\r\n                                                returnValue_2.push(allElements[x]);\r\n                                                breakingCondition = true;\r\n                                                u = x;\r\n                                                break;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                                if (breakingCondition) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        _this.parsedData = returnValue_2;\r\n                    }\r\n                    else if (tokens[tokens.length - 1] == '>') {\r\n                        var matchingTags = [];\r\n                        var scrapData = [];\r\n                        for (var element = 0; element < _this.parsedData.length; element++) {\r\n                            var matchingElements = _this.parsedData[element].getElementsByTagName(match[1]);\r\n                            for (var _i = 0, matchingElements_1 = matchingElements; _i < matchingElements_1.length; _i++) {\r\n                                var matchingElement = matchingElements_1[_i];\r\n                                var i = void 0;\r\n                                for (i = element + 1; i < _this.parsedData.length; i++) {\r\n                                    if (_this.parsedData[i].outerHTML.indexOf(matchingElement.outerHTML) > -1) {\r\n                                        // if it is in any of the other possible parents\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                if (i == _this.parsedData.length) {\r\n                                    // that means it is not in any of the other matchingTags\r\n                                    if (scrapData.length > 0) {\r\n                                        var u = 0;\r\n                                        for (; u < scrapData.length; u++) {\r\n                                            if (scrapData[u].indexOf(matchingElement.outerHTML) > -1) {\r\n                                                break;\r\n                                            }\r\n                                            else if (u == scrapData.length - 1 && scrapData[u].indexOf(matchingElement.outerHTML) == -1) {\r\n                                                scrapData.push(matchingElement.outerHTML);\r\n                                                matchingTags.push(matchingElement);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        scrapData.push(matchingElement.outerHTML);\r\n                                        matchingTags.push(matchingElement);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        _this.parsedData = matchingTags;\r\n                    }\r\n                    else {\r\n                        var holder_1 = [];\r\n                        if (_this.parsedData.length > 0) {\r\n                            _this.parsedData.forEach(function (htmlElement) {\r\n                                holder_1 = holder_1.concat(htmlElement.getElementsByTagName(match[1]));\r\n                            });\r\n                            var returnValue_3 = [];\r\n                            var scrapData_2 = [];\r\n                            returnValue_3 = holder_1.filter(function (element) {\r\n                                if (scrapData_2.indexOf(element.outerHTML) == -1) {\r\n                                    scrapData_2.push(element.outerHTML);\r\n                                    return true;\r\n                                }\r\n                            });\r\n                            _this.parsedData = returnValue_3;\r\n                        }\r\n                        else {\r\n                            _this.getElementsByTagName(match[1]);\r\n                        }\r\n                    }\r\n                    tokens.push(match[0]);\r\n                    var attributeRegExp;\r\n                    if (match[2] == '.') {\r\n                        attributeRegExp = new RegExp(\"\\\\s+class\\\\s*=\\\\s*('|\\\").*?\" + match[3] + \".*?(\\\"|')\", 'm');\r\n                    }\r\n                    else if (match[2] == '#') {\r\n                        attributeRegExp = new RegExp(\"\\\\s+id\\\\s*=\\\\s*('|\\\").*?\" + match[3] + \".*?(\\\"|')\", 'm');\r\n                    }\r\n                    var returnValue = _this.parsedData.filter(function (element) {\r\n                        if (element.outerHTML.slice(element.outerHTML.indexOf('<'), element.outerHTML.indexOf('>')).match(attributeRegExp)) {\r\n                            return true;\r\n                        }\r\n                    });\r\n                    _this.parsedData = returnValue;\r\n                    _this.done = false;\r\n                    return _this.parsedData;\r\n                }\r\n            },\r\n            {\r\n                regExp: /(\\w+)/,\r\n                action: function (match, tokens) {\r\n                    if (tokens[tokens.length - 1] == '+') {\r\n                        tokens.push(match[0]);\r\n                        var htmlElements = _this.parsedData;\r\n                        var allElements = _this.parseAllTags();\r\n                        _this.parsedData = htmlElements;\r\n                        var returnValue = [];\r\n                        var secondSiblingRegExp = _this.createTagRegExp(match[1]);\r\n                        var secondSiblingMatch = void 0;\r\n                        var scrapData = [];\r\n                        for (var u = 0; u < allElements.length; u++) {\r\n                            for (var element = 0; element < htmlElements.length; element++) {\r\n                                var breakingCondition = false;\r\n                                if (allElements[u].outerHTML == htmlElements[element].outerHTML) {\r\n                                    for (var x = u + 1; x < allElements.length; x++) {\r\n                                        if (htmlElements[element].outerHTML.indexOf(allElements[x].outerHTML) > -1) {\r\n                                            continue;\r\n                                        }\r\n                                        else if (!(secondSiblingMatch = allElements[x].outerHTML.\r\n                                            slice(allElements[x].outerHTML.\r\n                                            indexOf('<'), allElements[x].outerHTML.\r\n                                            indexOf('>') + 1).match(secondSiblingRegExp.openingRegExp))) {\r\n                                            break;\r\n                                        }\r\n                                        else if (secondSiblingMatch = allElements[x].outerHTML.\r\n                                            slice(allElements[x].outerHTML.\r\n                                            indexOf('<'), allElements[x].outerHTML.\r\n                                            indexOf('>') + 1).match(secondSiblingRegExp.openingRegExp)) {\r\n                                            if (scrapData.indexOf(allElements[x]['outerHTML']) == -1) {\r\n                                                scrapData.push(allElements[x].outerHTML);\r\n                                                returnValue.push(allElements[x]);\r\n                                                breakingCondition = true;\r\n                                                break;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                                if (breakingCondition) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        _this.parsedData = returnValue;\r\n                        _this.done = false;\r\n                        return _this.parsedData;\r\n                    }\r\n                    else if (tokens[tokens.length - 1] == '>') {\r\n                        var matchingTags = [];\r\n                        var scrapData = [];\r\n                        for (var element = 0; element < _this.parsedData.length; element++) {\r\n                            var matchingElements = _this.parsedData[element].getElementsByTagName(match[1]);\r\n                            for (var _i = 0, matchingElements_2 = matchingElements; _i < matchingElements_2.length; _i++) {\r\n                                var matchingElement = matchingElements_2[_i];\r\n                                var i = void 0;\r\n                                for (i = element + 1; i < _this.parsedData.length; i++) {\r\n                                    if (_this.parsedData[i].outerHTML.indexOf(matchingElement.outerHTML) > -1) {\r\n                                        // if it is in any of the other possible parents\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                if (i == _this.parsedData.length) {\r\n                                    // that means it is not in any of the other matchingTags\r\n                                    if (scrapData.length > 0) {\r\n                                        var u = 0;\r\n                                        for (; u < scrapData.length; u++) {\r\n                                            if (scrapData[u].indexOf(matchingElement.outerHTML) > -1) {\r\n                                                break;\r\n                                            }\r\n                                            else if (u == scrapData.length - 1 && scrapData[u].indexOf(matchingElement.outerHTML) == -1) {\r\n                                                scrapData.push(matchingElement.outerHTML);\r\n                                                matchingTags.push(matchingElement);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        scrapData.push(matchingElement.outerHTML);\r\n                                        matchingTags.push(matchingElement);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        _this.parsedData = matchingTags;\r\n                        _this.done = false;\r\n                        return _this.parsedData;\r\n                    }\r\n                    tokens.push(match[0]);\r\n                    var holder = [];\r\n                    if (_this.parsedData.length > 0) {\r\n                        _this.parsedData.forEach(function (htmlElement) {\r\n                            holder = holder.concat(htmlElement.getElementsByTagName(match[0]));\r\n                        });\r\n                        var returnValue = [];\r\n                        var scrapData_3 = [];\r\n                        returnValue = holder.filter(function (element) {\r\n                            if (scrapData_3.indexOf(element.outerHTML) == -1) {\r\n                                scrapData_3.push(element.outerHTML);\r\n                                return true;\r\n                            }\r\n                        });\r\n                        _this.parsedData = returnValue;\r\n                        _this.done = false;\r\n                        return _this.parsedData;\r\n                    }\r\n                    else {\r\n                        var returnValue = _this.getElementsByTagName(match[0]);\r\n                        _this.done = false;\r\n                        return returnValue;\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                regExp: /\\.(\\w+)/,\r\n                action: function (match, tokens, elements) {\r\n                    if (tokens[tokens.length - 1] == '+') {\r\n                        tokens.push(match[0]);\r\n                        var htmlElements = _this.parsedData;\r\n                        var allElements = _this.parseAllTags();\r\n                        _this.parsedData = htmlElements;\r\n                        var returnValue = [];\r\n                        var secondSiblingRegExp = _this.createTagRegExp(match[1]);\r\n                        var secondSiblingMatch = void 0;\r\n                        var scrapData = [];\r\n                        var attributeRegExp = new RegExp(\"\\\\s+class\\\\s*=\\\\s*('|\\\").*?\" + match[1] + \".*?(\\\"|')\", 'm');\r\n                        for (var u = 0; u < allElements.length; u++) {\r\n                            for (var element = 0; element < htmlElements.length; element++) {\r\n                                var breakingCondition = false;\r\n                                if (allElements[u].outerHTML == htmlElements[element].outerHTML) {\r\n                                    for (var x = u + 1; x < allElements.length; x++) {\r\n                                        if (htmlElements[element].outerHTML.indexOf(allElements[x].outerHTML) > -1) {\r\n                                            continue;\r\n                                        }\r\n                                        else if (!(secondSiblingMatch = allElements[x].outerHTML.\r\n                                            slice(allElements[x].outerHTML.\r\n                                            indexOf('<'), allElements[x].outerHTML.\r\n                                            indexOf('>') + 1).match(attributeRegExp))) {\r\n                                            break;\r\n                                        }\r\n                                        else if (secondSiblingMatch = allElements[x].outerHTML.\r\n                                            slice(allElements[x].outerHTML.\r\n                                            indexOf('<'), allElements[x].outerHTML.\r\n                                            indexOf('>') + 1).match(attributeRegExp)) {\r\n                                            if (scrapData.indexOf(allElements[x]['outerHTML']) == -1) {\r\n                                                scrapData.push(allElements[x].outerHTML);\r\n                                                returnValue.push(allElements[x]);\r\n                                                breakingCondition = true;\r\n                                                break;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                                if (breakingCondition) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        _this.parsedData = returnValue;\r\n                        _this.done = false;\r\n                        return _this.parsedData;\r\n                    }\r\n                    else if (tokens[tokens.length - 1] == '>') {\r\n                        var matchingTags = [];\r\n                        var scrapData = [];\r\n                        for (var element = 0; element < _this.parsedData.length; element++) {\r\n                            var matchingElements = _this.parsedData[element].getElementsByClassName(match[1]);\r\n                            for (var _i = 0, matchingElements_3 = matchingElements; _i < matchingElements_3.length; _i++) {\r\n                                var matchingElement = matchingElements_3[_i];\r\n                                var i = void 0;\r\n                                for (i = element + 1; i < _this.parsedData.length; i++) {\r\n                                    if (_this.parsedData[i].outerHTML.indexOf(matchingElement.outerHTML) > -1) {\r\n                                        // if it is in any of the other possible parents\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                if (i == _this.parsedData.length) {\r\n                                    // that means it is not in any of the other matchingTags\r\n                                    if (scrapData.length > 0) {\r\n                                        var u = 0;\r\n                                        for (; u < scrapData.length; u++) {\r\n                                            if (scrapData[u].indexOf(matchingElement.outerHTML) > -1) {\r\n                                                break;\r\n                                            }\r\n                                            else if (u == scrapData.length - 1 && scrapData[u].indexOf(matchingElement.outerHTML) == -1) {\r\n                                                scrapData.push(matchingElement.outerHTML);\r\n                                                matchingTags.push(matchingElement);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        scrapData.push(matchingElement.outerHTML);\r\n                                        matchingTags.push(matchingElement);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        _this.parsedData = matchingTags;\r\n                        _this.done = false;\r\n                        return _this.parsedData;\r\n                    }\r\n                    var holder = [];\r\n                    if (_this.parsedData.length > 0) {\r\n                        _this.parsedData.forEach(function (htmlElement) {\r\n                            holder = holder.concat(htmlElement.getElementsByClassName(match[0].slice(1)));\r\n                        });\r\n                        var returnValue = [];\r\n                        var scrapData_4 = [];\r\n                        returnValue = holder.filter(function (element) {\r\n                            if (scrapData_4.indexOf(element.outerHTML) == -1) {\r\n                                scrapData_4.push(element.outerHTML);\r\n                                return true;\r\n                            }\r\n                        });\r\n                        _this.parsedData = returnValue;\r\n                        _this.done = false;\r\n                        return _this.parsedData;\r\n                    }\r\n                    else {\r\n                        var returnValue = _this.getElementsByClassName(match[0].slice(1));\r\n                        _this.done = false;\r\n                        return returnValue;\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                regExp: /#(\\w+)/,\r\n                action: function (match, tokens, elements) {\r\n                    tokens.push(match[0]);\r\n                    var returnValue = [];\r\n                    returnValue.push(_this.getElementById(match[0].slice(1)));\r\n                    _this.done = false;\r\n                    return returnValue;\r\n                }\r\n            },\r\n            {\r\n                regExp: /\\+|>/,\r\n                action: function (match, tokens) {\r\n                    tokens.push(match[0]);\r\n                    return _this.parsedData;\r\n                }\r\n            },\r\n            {\r\n                regExp: /\\[(\\w+)(([\\^\\|\\~\\$\\*])?=?('|\")(\\w+)('|\"))?\\]/,\r\n                action: function (match, tokens, elements) {\r\n                    tokens.push(match[0]);\r\n                    var returnValue = _this.getByAttribute(match[1]);\r\n                    _this.done = false;\r\n                    return returnValue;\r\n                }\r\n            },\r\n        ];\r\n        this.parsedData = [];\r\n        this.done = false;\r\n        if (typeof data_source != 'string') {\r\n            throw new TypeError('Input data must be a string');\r\n        }\r\n        if (!data_source || Boolean(data_source.trim()) == false) { // empty string\r\n            throw new Error(\"Please input the html document you want to parse\");\r\n        }\r\n        this.data = data_source.toString().split(/\\n\\r|\\n|\\r/gmi).join(\" \");\r\n    }\r\n    BeautifulDom.prototype.reInit = function () {\r\n        this.parsedData = [];\r\n        return this;\r\n    };\r\n    BeautifulDom.prototype.getAllTags = function (data) {\r\n        var tagsRegex = /<\\s*(\\w+)\\s*.*?>/mi;\r\n        var match;\r\n        var startingIndex = 0;\r\n        var availableTags = [];\r\n        var counter = 0;\r\n        while (match = data.slice(startingIndex).match(tagsRegex)) {\r\n            var tagObject = { tag: match[1], index: counter++ };\r\n            availableTags.push(tagObject);\r\n            var index = match ? typeof (match['index']) == 'number' ? match['index'] : 0 : 0;\r\n            startingIndex += index + match[0].length;\r\n        }\r\n        return availableTags;\r\n    };\r\n    BeautifulDom.prototype.createTagRegExp = function (tagType) {\r\n        var tagRegExp = new RegExp(\"<\\\\s*\" + tagType + \"\\\\b.*?>|<\\\\s*/\" + tagType + \">\", \"mi\");\r\n        var openingRegExp = new RegExp(\"<\\\\s*\" + tagType + \"\\\\b.*?>\");\r\n        var closingRegExp = new RegExp(\"<\\\\s*/\" + tagType + \">\");\r\n        return { tagRegExp: tagRegExp, openingRegExp: openingRegExp, closingRegExp: closingRegExp };\r\n    };\r\n    BeautifulDom.prototype.getElementsByTagName = function (tag) {\r\n        var data_copy;\r\n        this.parsedData = [];\r\n        data_copy = this.data.slice(0);\r\n        var match;\r\n        var matchRegex = this.createTagRegExp(tag.trim());\r\n        var matches = [];\r\n        while (match = (matchRegex.tagRegExp).exec(data_copy)) {\r\n            var index = match ? typeof (match['index']) == 'number' ? match['index'] : 0 : 0;\r\n            data_copy = data_copy.slice(match[0].length + index);\r\n            if (matches.length > 0) {\r\n                match['index'] = matches[matches.length - 1]['index'] + matches[matches.length - 1][0].length + index;\r\n            }\r\n            matches.push(match);\r\n        }\r\n        for (var i = 0; i < matches.length; i++) {\r\n            var openingTag = void 0;\r\n            var closingTagsCounter = 0;\r\n            var openingTagsCounter = 0;\r\n            if (openingTag = matches[i][0].match(matchRegex.openingRegExp)) {\r\n                openingTagsCounter += 1;\r\n                for (var u = i + 1; u < matches.length; u++) {\r\n                    if (matchRegex.openingRegExp.test(matches[u][0])) {\r\n                        openingTagsCounter += 1;\r\n                    }\r\n                    if (matchRegex.closingRegExp.test(matches[u][0])) {\r\n                        closingTagsCounter += 1;\r\n                    }\r\n                    if (openingTagsCounter == closingTagsCounter) {\r\n                        var outerHTML = this.data.slice(matches[i]['index'], matches[u]['index'] + matches[u][0].length);\r\n                        var node_object = new htmlelement_1.default(outerHTML);\r\n                        this.parsedData.push(node_object);\r\n                        break;\r\n                    }\r\n                }\r\n                if (closingTagsCounter == 0) {\r\n                    var outerHTML = this.data.slice(matches[i]['index'], matches[i]['index'] + matches[i][0].length);\r\n                    var node_object = new htmlelement_1.default(outerHTML);\r\n                    this.parsedData.push(node_object);\r\n                }\r\n            }\r\n        }\r\n        this.done = true;\r\n        return this.parsedData;\r\n    };\r\n    BeautifulDom.prototype.parseAllTags = function () {\r\n        var tags = this.getAllTags(this.data);\r\n        var elements = [];\r\n        var _loop_1 = function (tag) {\r\n            // get all the tags in this array that is of this type;\r\n            var relatives = tags.filter(function (tagData) {\r\n                if (tagData.tag == tag.tag) {\r\n                    return true;\r\n                }\r\n            });\r\n            var temp = this_1.getElementsByTagName(tag.tag);\r\n            temp.forEach(function (element, index) {\r\n                elements[relatives[index]['index']] = element;\r\n            });\r\n        };\r\n        var this_1 = this;\r\n        for (var _i = 0, tags_1 = tags; _i < tags_1.length; _i++) {\r\n            var tag = tags_1[_i];\r\n            _loop_1(tag);\r\n        }\r\n        this.parsedData = elements;\r\n        return this.parsedData;\r\n    };\r\n    BeautifulDom.prototype.getByAttribute = function (attribute, attributeValue) {\r\n        var attributeRegExp = new RegExp(attribute + \"=\\\\s*('|\\\")((\\\\b\" + attributeValue + \"\\\\b.*?)|(.*?\\\\b\" + attributeValue + \"\\\\b.*?)|(.*?\\\\b\" + attributeValue + \"\\\\b))(\\\"|')\", 'mi');\r\n        var matchingTags = [];\r\n        if (this.parsedData.length == 0 || this.done) {\r\n            this.parseAllTags();\r\n        }\r\n        for (var i = 0; i < this.parsedData.length; i++) {\r\n            var openingTag = this.parsedData[i]['outerHTML']\r\n                .slice(this.parsedData[i]['outerHTML']\r\n                .indexOf('<'), this.parsedData[i]['outerHTML']\r\n                .indexOf('>') + 1);\r\n            if (openingTag.match(attributeRegExp)) {\r\n                matchingTags.push(this.parsedData[i]);\r\n            }\r\n        }\r\n        this.parsedData = matchingTags;\r\n        return matchingTags;\r\n    };\r\n    BeautifulDom.prototype.getElementsByClassName = function (classValue) {\r\n        this.done = true;\r\n        return this.getByAttribute('class', classValue.trim());\r\n    };\r\n    BeautifulDom.prototype.getElementById = function (id) {\r\n        var matchingElements = this.getByAttribute(\"id\", id.trim());\r\n        var element = matchingElements.length > 0 ? matchingElements[0] : null;\r\n        this.done = true;\r\n        return element;\r\n    };\r\n    BeautifulDom.prototype.getElementsByName = function (name) {\r\n        this.done = true;\r\n        return this.getByAttribute(\"name\", name.trim());\r\n    };\r\n    BeautifulDom.prototype.querySelectorAll = function (query) {\r\n        this.parsedData = this.done ? [] : this.parsedData;\r\n        var tokens = [];\r\n        query = query.trim();\r\n        while (query.length) {\r\n            var match = void 0;\r\n            for (var _i = 0, _a = this.patterns; _i < _a.length; _i++) {\r\n                var pattern = _a[_i];\r\n                if (match = query.match(pattern.regExp)) {\r\n                    if (match['index'] == 0) {\r\n                        this.parsedData = pattern.action(match, tokens, this.parsedData);\r\n                        query = query.slice(match[0].length).trim();\r\n                        break;\r\n                    }\r\n                    else {\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.done = true;\r\n        return this.parsedData;\r\n    };\r\n    BeautifulDom.prototype.querySelector = function (query) {\r\n        var returnValue = this.querySelectorAll(query).slice(0, 1)[0] ? this.querySelectorAll(query).slice(0, 1)[0] : null;\r\n        this.done = true;\r\n        return returnValue;\r\n    };\r\n    return BeautifulDom;\r\n}());\r\nexports.default = BeautifulDom;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar beautifuldom_1 = __importDefault(require(\"./beautifuldom\"));\r\nmodule.exports = beautifuldom_1.default;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar HTMLElementData = /** @class */ (function () {\r\n    function HTMLElementData(outerHTML) {\r\n        var _this = this;\r\n        this.done = true;\r\n        this.parsedData = [];\r\n        this.patterns = [\r\n            {\r\n                regExp: /\\*/,\r\n                action: function (match, tokens) {\r\n                    tokens.push(match[0]);\r\n                    var holder = [];\r\n                    if (_this.parsedData.length) {\r\n                        _this.parsedData.forEach(function (htmlElement) {\r\n                            holder = holder.concat(htmlElement.parseAllTags());\r\n                        });\r\n                        var returnValue = [];\r\n                        var scrapData_1 = [];\r\n                        returnValue = holder.filter(function (element) {\r\n                            if (scrapData_1.indexOf(element.outerHTML) == -1) {\r\n                                scrapData_1.push(element.outerHTML);\r\n                                return true;\r\n                            }\r\n                        });\r\n                        _this.parsedData = returnValue;\r\n                        _this.done = false;\r\n                        return _this.parsedData;\r\n                    }\r\n                    _this.done = false;\r\n                    return _this.parseAllTags();\r\n                }\r\n            },\r\n            {\r\n                regExp: /(\\w+)(\\.|#)(\\w+)/,\r\n                action: function (match, tokens) {\r\n                    if (tokens[tokens.length - 1] == '+') {\r\n                        var htmlElements = _this.parsedData;\r\n                        var allElements = _this.parseAllTags();\r\n                        _this.parsedData = htmlElements;\r\n                        var returnValue_1 = [];\r\n                        var secondSiblingRegExp = _this.createTagRegExp(match[1]);\r\n                        var secondSiblingMatch = void 0;\r\n                        var scrapData = [];\r\n                        for (var u = 0; u < allElements.length; u++) {\r\n                            for (var element = 0; element < htmlElements.length; element++) {\r\n                                var breakingCondition = false;\r\n                                if (allElements[u].outerHTML == htmlElements[element].outerHTML) {\r\n                                    for (var x = u + 1; x < allElements.length; x++) {\r\n                                        if (htmlElements[element].outerHTML.indexOf(allElements[x].outerHTML) > -1) {\r\n                                            continue;\r\n                                        }\r\n                                        else if (!(secondSiblingMatch = allElements[x].outerHTML.\r\n                                            slice(allElements[x].outerHTML.\r\n                                            indexOf('<'), allElements[x].outerHTML.\r\n                                            indexOf('>') + 1).match(secondSiblingRegExp.openingRegExp))) {\r\n                                            break;\r\n                                        }\r\n                                        else if (secondSiblingMatch = allElements[x].outerHTML.\r\n                                            slice(allElements[x].outerHTML.\r\n                                            indexOf('<'), allElements[x].outerHTML.\r\n                                            indexOf('>') + 1).match(secondSiblingRegExp.openingRegExp)) {\r\n                                            if (scrapData.indexOf(allElements[x]['outerHTML']) == -1) {\r\n                                                scrapData.push(allElements[x].outerHTML);\r\n                                                returnValue_1.push(allElements[x]);\r\n                                                breakingCondition = true;\r\n                                                u = x;\r\n                                                break;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                                if (breakingCondition) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        _this.done = false;\r\n                        _this.parsedData = returnValue_1;\r\n                    }\r\n                    else if (tokens[tokens.length - 1] == '>') {\r\n                        var matchingTags = [];\r\n                        var scrapData = [];\r\n                        for (var element = 0; element < _this.parsedData.length; element++) {\r\n                            var matchingElements = _this.parsedData[element].getElementsByTagName(match[1]);\r\n                            for (var _i = 0, matchingElements_1 = matchingElements; _i < matchingElements_1.length; _i++) {\r\n                                var matchingElement = matchingElements_1[_i];\r\n                                var i = void 0;\r\n                                for (i = element + 1; i < _this.parsedData.length; i++) {\r\n                                    if (_this.parsedData[i].outerHTML.indexOf(matchingElement.outerHTML) > -1) {\r\n                                        // if it is in any of the other possible parents\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                if (i == _this.parsedData.length) {\r\n                                    // that means it is not in any of the other matchingTags\r\n                                    if (scrapData.length > 0) {\r\n                                        var u = 0;\r\n                                        for (; u < scrapData.length; u++) {\r\n                                            if (scrapData[u].indexOf(matchingElement.outerHTML) > -1) {\r\n                                                break;\r\n                                            }\r\n                                            else if (u == scrapData.length - 1 && scrapData[u].indexOf(matchingElement.outerHTML) == -1) {\r\n                                                scrapData.push(matchingElement.outerHTML);\r\n                                                matchingTags.push(matchingElement);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        scrapData.push(matchingElement.outerHTML);\r\n                                        matchingTags.push(matchingElement);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        _this.parsedData = matchingTags;\r\n                    }\r\n                    else {\r\n                        var holder_1 = [];\r\n                        if (_this.parsedData.length > 0) {\r\n                            _this.parsedData.forEach(function (htmlElement) {\r\n                                holder_1 = holder_1.concat(htmlElement.getElementsByTagName(match[1]));\r\n                            });\r\n                            var returnValue_2 = [];\r\n                            var scrapData_2 = [];\r\n                            returnValue_2 = holder_1.filter(function (element) {\r\n                                if (scrapData_2.indexOf(element.outerHTML) == -1) {\r\n                                    scrapData_2.push(element.outerHTML);\r\n                                    return true;\r\n                                }\r\n                            });\r\n                            _this.parsedData = returnValue_2;\r\n                        }\r\n                        else {\r\n                            _this.getElementsByTagName(match[1]);\r\n                        }\r\n                    }\r\n                    tokens.push(match[0]);\r\n                    var attributeRegExp;\r\n                    if (match[2] == '.') {\r\n                        attributeRegExp = new RegExp(\"\\\\s+class\\\\s*=\\\\s*('|\\\").*?\" + match[3] + \".*?(\\\"|')\", 'm');\r\n                    }\r\n                    else if (match[2] == '#') {\r\n                        attributeRegExp = new RegExp(\"\\\\s+id\\\\s*=\\\\s*('|\\\").*?\" + match[3] + \".*?(\\\"|')\", 'm');\r\n                    }\r\n                    var returnValue = _this.parsedData.filter(function (element) {\r\n                        if (element.outerHTML.slice(element.outerHTML.indexOf('<'), element.outerHTML.indexOf('>')).match(attributeRegExp)) {\r\n                            return true;\r\n                        }\r\n                    });\r\n                    _this.parsedData = returnValue;\r\n                    _this.done = false;\r\n                    return _this.parsedData;\r\n                }\r\n            },\r\n            {\r\n                regExp: /(\\w+)/,\r\n                action: function (match, tokens) {\r\n                    if (tokens[tokens.length - 1] == '+') {\r\n                        tokens.push(match[0]);\r\n                        var htmlElements = _this.parsedData;\r\n                        var allElements = _this.parseAllTags();\r\n                        _this.parsedData = htmlElements;\r\n                        var returnValue = [];\r\n                        var secondSiblingRegExp = _this.createTagRegExp(match[1]);\r\n                        var secondSiblingMatch = void 0;\r\n                        var scrapData = [];\r\n                        for (var u = 0; u < allElements.length; u++) {\r\n                            for (var element = 0; element < htmlElements.length; element++) {\r\n                                var breakingCondition = false;\r\n                                if (allElements[u].outerHTML == htmlElements[element].outerHTML) {\r\n                                    for (var x = u + 1; x < allElements.length; x++) {\r\n                                        if (htmlElements[element].outerHTML.indexOf(allElements[x].outerHTML) > -1) {\r\n                                            continue;\r\n                                        }\r\n                                        else if (!(secondSiblingMatch = allElements[x].outerHTML.\r\n                                            slice(allElements[x].outerHTML.\r\n                                            indexOf('<'), allElements[x].outerHTML.\r\n                                            indexOf('>') + 1).match(secondSiblingRegExp.openingRegExp))) {\r\n                                            break;\r\n                                        }\r\n                                        else if (secondSiblingMatch = allElements[x].outerHTML.\r\n                                            slice(allElements[x].outerHTML.\r\n                                            indexOf('<'), allElements[x].outerHTML.\r\n                                            indexOf('>') + 1).match(secondSiblingRegExp.openingRegExp)) {\r\n                                            if (scrapData.indexOf(allElements[x]['outerHTML']) == -1) {\r\n                                                scrapData.push(allElements[x].outerHTML);\r\n                                                returnValue.push(allElements[x]);\r\n                                                breakingCondition = true;\r\n                                                break;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                                if (breakingCondition) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        _this.parsedData = returnValue;\r\n                        _this.done = false;\r\n                        return _this.parsedData;\r\n                    }\r\n                    else if (tokens[tokens.length - 1] == '>') {\r\n                        var matchingTags = [];\r\n                        var scrapData = [];\r\n                        for (var element = 0; element < _this.parsedData.length; element++) {\r\n                            var matchingElements = _this.parsedData[element].getElementsByTagName(match[1]);\r\n                            for (var _i = 0, matchingElements_2 = matchingElements; _i < matchingElements_2.length; _i++) {\r\n                                var matchingElement = matchingElements_2[_i];\r\n                                var i = void 0;\r\n                                for (i = element + 1; i < _this.parsedData.length; i++) {\r\n                                    if (_this.parsedData[i].outerHTML.indexOf(matchingElement.outerHTML) > -1) {\r\n                                        // if it is in any of the other possible parents\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                if (i == _this.parsedData.length) {\r\n                                    // that means it is not in any of the other matchingTags\r\n                                    if (scrapData.length > 0) {\r\n                                        var u = 0;\r\n                                        for (; u < scrapData.length; u++) {\r\n                                            if (scrapData[u].indexOf(matchingElement.outerHTML) > -1) {\r\n                                                break;\r\n                                            }\r\n                                            else if (u == scrapData.length - 1 && scrapData[u].indexOf(matchingElement.outerHTML) == -1) {\r\n                                                scrapData.push(matchingElement.outerHTML);\r\n                                                matchingTags.push(matchingElement);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        scrapData.push(matchingElement.outerHTML);\r\n                                        matchingTags.push(matchingElement);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        _this.parsedData = matchingTags;\r\n                        _this.done = false;\r\n                        return _this.parsedData;\r\n                    }\r\n                    tokens.push(match[0]);\r\n                    var holder = [];\r\n                    if (_this.parsedData.length > 0) {\r\n                        _this.parsedData.forEach(function (htmlElement) {\r\n                            holder = holder.concat(htmlElement.getElementsByTagName(match[0]));\r\n                        });\r\n                        var returnValue = [];\r\n                        var scrapData_3 = [];\r\n                        returnValue = holder.filter(function (element) {\r\n                            if (scrapData_3.indexOf(element.outerHTML) == -1) {\r\n                                scrapData_3.push(element.outerHTML);\r\n                                return true;\r\n                            }\r\n                        });\r\n                        _this.parsedData = returnValue;\r\n                        _this.done = false;\r\n                        return _this.parsedData;\r\n                    }\r\n                    else {\r\n                        var returnValue = _this.getElementsByTagName(match[0]);\r\n                        _this.done = false;\r\n                        return returnValue;\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                regExp: /\\.(\\w+)/,\r\n                action: function (match, tokens, elements) {\r\n                    if (tokens[tokens.length - 1] == '+') {\r\n                        tokens.push(match[0]);\r\n                        var htmlElements = _this.parsedData;\r\n                        var allElements = _this.parseAllTags();\r\n                        _this.parsedData = htmlElements;\r\n                        var returnValue = [];\r\n                        var secondSiblingRegExp = _this.createTagRegExp(match[1]);\r\n                        var secondSiblingMatch = void 0;\r\n                        var scrapData = [];\r\n                        var attributeRegExp = new RegExp(\"\\\\s+class\\\\s*=\\\\s*('|\\\").*?\" + match[1] + \".*?(\\\"|')\", 'm');\r\n                        for (var u = 0; u < allElements.length; u++) {\r\n                            for (var element = 0; element < htmlElements.length; element++) {\r\n                                var breakingCondition = false;\r\n                                if (allElements[u].outerHTML == htmlElements[element].outerHTML) {\r\n                                    for (var x = u + 1; x < allElements.length; x++) {\r\n                                        if (htmlElements[element].outerHTML.indexOf(allElements[x].outerHTML) > -1) {\r\n                                            continue;\r\n                                        }\r\n                                        else if (!(secondSiblingMatch = allElements[x].outerHTML.\r\n                                            slice(allElements[x].outerHTML.\r\n                                            indexOf('<'), allElements[x].outerHTML.\r\n                                            indexOf('>') + 1).match(attributeRegExp))) {\r\n                                            break;\r\n                                        }\r\n                                        else if (secondSiblingMatch = allElements[x].outerHTML.\r\n                                            slice(allElements[x].outerHTML.\r\n                                            indexOf('<'), allElements[x].outerHTML.\r\n                                            indexOf('>') + 1).match(attributeRegExp)) {\r\n                                            if (scrapData.indexOf(allElements[x]['outerHTML']) == -1) {\r\n                                                scrapData.push(allElements[x].outerHTML);\r\n                                                returnValue.push(allElements[x]);\r\n                                                breakingCondition = true;\r\n                                                break;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                                if (breakingCondition) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        _this.parsedData = returnValue;\r\n                        _this.done = false;\r\n                        return _this.parsedData;\r\n                    }\r\n                    else if (tokens[tokens.length - 1] == '>') {\r\n                        var matchingTags = [];\r\n                        var scrapData = [];\r\n                        for (var element = 0; element < _this.parsedData.length; element++) {\r\n                            var matchingElements = _this.parsedData[element].getElementsByClassName(match[1]);\r\n                            for (var _i = 0, matchingElements_3 = matchingElements; _i < matchingElements_3.length; _i++) {\r\n                                var matchingElement = matchingElements_3[_i];\r\n                                var i = void 0;\r\n                                for (i = element + 1; i < _this.parsedData.length; i++) {\r\n                                    if (_this.parsedData[i].outerHTML.indexOf(matchingElement.outerHTML) > -1) {\r\n                                        // if it is in any of the other possible parents    \r\n                                        break;\r\n                                    }\r\n                                }\r\n                                if (i == _this.parsedData.length) {\r\n                                    // that means it is not in any of the other matchingTags\r\n                                    if (scrapData.length > 0) {\r\n                                        var u = 0;\r\n                                        for (; u < scrapData.length; u++) {\r\n                                            if (scrapData[u].indexOf(matchingElement.outerHTML) > -1) {\r\n                                                break;\r\n                                            }\r\n                                            else if (u == scrapData.length - 1 && scrapData[u].indexOf(matchingElement.outerHTML) == -1) {\r\n                                                scrapData.push(matchingElement.outerHTML);\r\n                                                matchingTags.push(matchingElement);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        scrapData.push(matchingElement.outerHTML);\r\n                                        matchingTags.push(matchingElement);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        _this.parsedData = matchingTags;\r\n                        _this.done = false;\r\n                        return _this.parsedData;\r\n                    }\r\n                    var holder = [];\r\n                    if (_this.parsedData.length > 0) {\r\n                        _this.parsedData.forEach(function (htmlElement) {\r\n                            holder = holder.concat(htmlElement.getElementsByClassName(match[0].slice(1)));\r\n                        });\r\n                        var returnValue = [];\r\n                        var scrapData_4 = [];\r\n                        returnValue = holder.filter(function (element) {\r\n                            if (scrapData_4.indexOf(element.outerHTML) == -1) {\r\n                                scrapData_4.push(element.outerHTML);\r\n                                return true;\r\n                            }\r\n                        });\r\n                        _this.parsedData = returnValue;\r\n                        _this.done = false;\r\n                        return _this.parsedData;\r\n                    }\r\n                    else {\r\n                        var returnValue = _this.getElementsByClassName(match[0].slice(1));\r\n                        _this.done = false;\r\n                        return returnValue;\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                regExp: /\\+|>/,\r\n                action: function (match, tokens) {\r\n                    tokens.push(match[0]);\r\n                    return _this.parsedData;\r\n                }\r\n            },\r\n            {\r\n                regExp: /\\[(\\w+)(([\\^\\|\\~\\$\\*])?=?('|\")(\\w+)('|\"))?\\]/,\r\n                action: function (match, tokens, elements) {\r\n                    tokens.push(match[0]);\r\n                    _this.done = false;\r\n                    return _this.getByAttribute(match[1]);\r\n                }\r\n            }\r\n        ];\r\n        if (typeof outerHTML != 'string') {\r\n            throw new TypeError('Input data must be a string');\r\n        }\r\n        this.outerHTML = outerHTML;\r\n        this.innerHTML = this.innerText = this.textContent = this.outerHTML.slice(this.outerHTML.indexOf('>') + 1, this.outerHTML.lastIndexOf('<'));\r\n        this.textContent = this.innerText = this.textContent.replace(/<.*?>/gi, '');\r\n    }\r\n    HTMLElementData.prototype.getStatus = function () {\r\n        return this.done;\r\n    };\r\n    HTMLElementData.prototype.getAllTags = function (data) {\r\n        var tagsRegex = /<\\s*(\\w+)\\s*.*?>/mi;\r\n        var match;\r\n        var startingIndex = 0;\r\n        var availableTags = [];\r\n        var counter = 0;\r\n        while (match = data.slice(startingIndex).match(tagsRegex)) {\r\n            var tagObject = { tag: match[1], index: counter++ };\r\n            availableTags.push(tagObject);\r\n            var index = match ? typeof (match['index']) == 'number' ? match['index'] : 0 : 0;\r\n            startingIndex += index + match[0].length;\r\n        }\r\n        return availableTags;\r\n    };\r\n    HTMLElementData.prototype.createTagRegExp = function (tagType) {\r\n        var tagRegExp = new RegExp(\"<\\\\s*\" + tagType + \"(\\\\s*|\\\\s+).*?>|<\\\\s*/\" + tagType + \">\", \"mi\");\r\n        var openingRegExp = new RegExp(\"<\\\\s*\" + tagType + \"(\\\\s*|\\\\s+).*?>\");\r\n        var closingRegExp = new RegExp(\"<\\\\s*/\" + tagType + \">\");\r\n        return { tagRegExp: tagRegExp, openingRegExp: openingRegExp, closingRegExp: closingRegExp };\r\n    };\r\n    HTMLElementData.prototype.getElementsByTagName = function (tag) {\r\n        this.parsedData = [];\r\n        var match;\r\n        var matchRegex = this.createTagRegExp(tag);\r\n        var data_copy = this.innerHTML.slice(0);\r\n        var matches = [];\r\n        while (match = (matchRegex.tagRegExp).exec(data_copy)) {\r\n            var index = match ? typeof (match['index']) == 'number' ? match['index'] : 0 : 0;\r\n            data_copy = data_copy.slice(match[0].length + index);\r\n            if (matches.length > 0) {\r\n                match['index'] = matches[matches.length - 1]['index'] + matches[matches.length - 1][0].length + (match['index'] ? match['index'] : 0);\r\n            }\r\n            matches.push(match);\r\n        }\r\n        for (var i = 0; i < matches.length; i++) {\r\n            var openingTag = void 0;\r\n            var closingTagsCounter = 0;\r\n            var openingTagsCounter = 0;\r\n            if (openingTag = matches[i][0].match(matchRegex.openingRegExp)) {\r\n                openingTagsCounter += 1;\r\n                for (var u = i + 1; u < matches.length; u++) {\r\n                    if (matchRegex.openingRegExp.test(matches[u][0])) {\r\n                        openingTagsCounter += 1;\r\n                    }\r\n                    if (matchRegex.closingRegExp.test(matches[u][0])) {\r\n                        closingTagsCounter += 1;\r\n                    }\r\n                    if (openingTagsCounter == closingTagsCounter) {\r\n                        var outerHTML = this.innerHTML.slice(matches[i]['index'], matches[u]['index'] + matches[u][0].length);\r\n                        var node_object = new HTMLElementData(outerHTML);\r\n                        this.parsedData.push(node_object);\r\n                        break;\r\n                    }\r\n                }\r\n                if (closingTagsCounter == 0) {\r\n                    var outerHTML = this.innerHTML.slice(matches[i]['index'], matches[i]['index'] + matches[i][0].length);\r\n                    var node_object = new HTMLElementData(outerHTML);\r\n                    this.parsedData.push(node_object);\r\n                }\r\n            }\r\n        }\r\n        this.done = true;\r\n        return this.parsedData;\r\n    };\r\n    HTMLElementData.prototype.parseAllTags = function () {\r\n        var tags = this.getAllTags(this.innerHTML);\r\n        var elements = [];\r\n        var _loop_1 = function (tag) {\r\n            // get all the tags in this array that is of this type;\r\n            var relatives = tags.filter(function (tagData) {\r\n                if (tagData.tag == tag.tag) {\r\n                    return true;\r\n                }\r\n            });\r\n            var temp = this_1.getElementsByTagName(tag.tag);\r\n            temp.forEach(function (element, index) {\r\n                elements[relatives[index]['index']] = element;\r\n            });\r\n        };\r\n        var this_1 = this;\r\n        for (var _i = 0, tags_1 = tags; _i < tags_1.length; _i++) {\r\n            var tag = tags_1[_i];\r\n            _loop_1(tag);\r\n        }\r\n        this.parsedData = elements;\r\n        return this.parsedData;\r\n    };\r\n    HTMLElementData.prototype.getByAttribute = function (attribute, attributeValue) {\r\n        var attributeRegExp = new RegExp(attribute + \"=\\\\s*('|\\\")((\\\\b\" + attributeValue + \"\\\\b.*?)|(.*?\\\\b\" + attributeValue + \"\\\\b.*?)|(.*?\\\\b\" + attributeValue + \"\\\\b))(\\\"|')\", 'mi');\r\n        if (this.parsedData.length == 0 || this.done) {\r\n            this.parseAllTags();\r\n        }\r\n        var matchingTags = [];\r\n        for (var i = 0; i < this.parsedData.length; i++) {\r\n            if (this.parsedData[i]['outerHTML']\r\n                .slice(this.parsedData[i]['outerHTML']\r\n                .indexOf('<'), this.parsedData[i]['outerHTML']\r\n                .indexOf('>') + 1)\r\n                .match(attributeRegExp)) {\r\n                matchingTags.push(this.parsedData[i]);\r\n            }\r\n        }\r\n        this.parsedData = matchingTags;\r\n        return matchingTags;\r\n    };\r\n    HTMLElementData.prototype.getElementsByClassName = function (classValue) {\r\n        this.done = true;\r\n        return this.getByAttribute('class', classValue);\r\n    };\r\n    HTMLElementData.prototype.querySelectorAll = function (query) {\r\n        this.parsedData = this.done ? [] : this.parsedData;\r\n        var tokens = [];\r\n        query = query.trim();\r\n        while (query.length) {\r\n            var match = void 0;\r\n            for (var _i = 0, _a = this.patterns; _i < _a.length; _i++) {\r\n                var pattern = _a[_i];\r\n                if (match = query.match(pattern.regExp)) {\r\n                    if (match['index'] == 0) {\r\n                        this.parsedData = pattern.action(match, tokens);\r\n                        query = query.slice(match[0].length).trim();\r\n                        break;\r\n                    }\r\n                    else {\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.done = true;\r\n        return this.parsedData;\r\n    };\r\n    HTMLElementData.prototype.querySelector = function (query) {\r\n        var returnValue = this.querySelectorAll(query).slice(0, 1)[0] ? this.querySelectorAll(query).slice(0, 1)[0] : null;\r\n        this.done = true;\r\n        return returnValue;\r\n    };\r\n    HTMLElementData.prototype.getAttribute = function (attribute) {\r\n        var attributeRegExp = new RegExp(attribute + \"\\\\s*=\\\\s*('|\\\")(.*?)(\\\"|')\", 'mi');\r\n        var outerHTML = this.outerHTML.slice(this.outerHTML.indexOf('<'), this.outerHTML.indexOf('>') + 1);\r\n        var match = outerHTML.match(attributeRegExp);\r\n        this.done = true;\r\n        return match ? match[2] : null;\r\n    };\r\n    return HTMLElementData;\r\n}());\r\nexports.default = HTMLElementData;\r\n"],"sourceRoot":""}